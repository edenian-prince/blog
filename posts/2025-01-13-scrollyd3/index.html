<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.22">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>frank blog – index</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="../../site_libs/quarto-contrib/intersection-observer-polyfill-1.0.0/intersection-observer.js"></script>
<script src="../../site_libs/quarto-contrib/scrollama-3.2.0/scrollama.min.js"></script>
<script src="../../site_libs/quarto-contrib/closeread-0.1.0/closeread.js"></script>
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>
<script type="module" src="../../site_libs/quarto-ojs/quarto-ojs-runtime.js"></script>
<link href="../../site_libs/quarto-ojs/quarto-ojs.css" rel="stylesheet">
<meta cr-debug-mode="false">
<meta cr-remove-header-space="false">


<link rel="stylesheet" href="../../site_libs/quarto-contrib/quarto-project/qmd-lab/closeread/closeread.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">frank blog<span class="name_container._8"></span></span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/edenian-prince/blog"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block column-page" id="quarto-document-content">
      <!-- user-provided yaml closeread style options -->
      <style>
        :root {
          --cr-narrative-text-color-sidebar: #fdfdfd;
--cr-narrative-background-color-sidebar: #021525;
--cr-section-background-color: #f6f9fc;
        }
      </style>
    




<div class="cr-section cr-column-screen sidebar-left">
<div class="narrative-col">
<div class="trigger new-trigger" data-focus-on="cr-title">
<section id="closeread-ojs-d3.js-interaction" class="level2 narrative">
<h2 class="anchored" data-anchor-id="closeread-ojs-d3.js-interaction">Closeread OJS D3.js Interaction <img src="images/water-wave.png" class="img-fluid" style="position: relative; top: -2.5px;" width="40"></h2>
<p>frank aragona</p>
</section>
</div>
</div>
<div class="sticky-col">
<div class="sticky-col-stack">
<div id="cr-title" class="sticky">
<section id="overview" class="level2 splash-page">
<h2 class="anchored" data-anchor-id="overview">Overview</h2>
<ul>
<li>How to use closeread with Observable JS</li>
<li>How to make cool interactive plots when the user scrolls</li>
<li>An intro to D3.js</li>
</ul>
</section>
</div>
</div>
</div>
</div>
<div class="cr-section cr-column-screen sidebar-left">
<div class="narrative-col">
<div class="progress-block">
<div class="trigger new-trigger" data-focus-on="cr-ploty">
<div class="narrative">
<p>Here’s the main plot, scroll down.</p>
</div>
</div>
<div class="trigger new-trigger" data-focus-on="cr-ploty">
<div class="narrative">
<div class="cell">
<div class="cell-output-display">
<div>
<div id="klifzfjzhc" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
#klifzfjzhc table {
  font-family: 'JetBrains Mono', system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#klifzfjzhc thead, #klifzfjzhc tbody, #klifzfjzhc tfoot, #klifzfjzhc tr, #klifzfjzhc td, #klifzfjzhc th {
  border-style: none;
}

#klifzfjzhc p {
  margin: 0;
  padding: 0;
}

#klifzfjzhc .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#klifzfjzhc .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#klifzfjzhc .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#klifzfjzhc .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#klifzfjzhc .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#klifzfjzhc .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#klifzfjzhc .gt_col_headings {
  border-top-style: solid;
  border-top-width: 3px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#klifzfjzhc .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#klifzfjzhc .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#klifzfjzhc .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#klifzfjzhc .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#klifzfjzhc .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#klifzfjzhc .gt_spanner_row {
  border-bottom-style: hidden;
}

#klifzfjzhc .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#klifzfjzhc .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#klifzfjzhc .gt_from_md > :first-child {
  margin-top: 0;
}

#klifzfjzhc .gt_from_md > :last-child {
  margin-bottom: 0;
}

#klifzfjzhc .gt_row {
  padding-top: 3px;
  padding-bottom: 3px;
  padding-left: 10px;
  padding-right: 10px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#klifzfjzhc .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 10px;
  padding-right: 10px;
}

#klifzfjzhc .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#klifzfjzhc .gt_row_group_first td {
  border-top-width: 2px;
}

#klifzfjzhc .gt_row_group_first th {
  border-top-width: 2px;
}

#klifzfjzhc .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#klifzfjzhc .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#klifzfjzhc .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#klifzfjzhc .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#klifzfjzhc .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#klifzfjzhc .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#klifzfjzhc .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#klifzfjzhc .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#klifzfjzhc .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#klifzfjzhc .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#klifzfjzhc .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#klifzfjzhc .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#klifzfjzhc .gt_sourcenote {
  font-size: 12px;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#klifzfjzhc .gt_left {
  text-align: left;
}

#klifzfjzhc .gt_center {
  text-align: center;
}

#klifzfjzhc .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#klifzfjzhc .gt_font_normal {
  font-weight: normal;
}

#klifzfjzhc .gt_font_bold {
  font-weight: bold;
}

#klifzfjzhc .gt_font_italic {
  font-style: italic;
}

#klifzfjzhc .gt_super {
  font-size: 65%;
}

#klifzfjzhc .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#klifzfjzhc .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#klifzfjzhc .gt_indent_1 {
  text-indent: 5px;
}

#klifzfjzhc .gt_indent_2 {
  text-indent: 10px;
}

#klifzfjzhc .gt_indent_3 {
  text-indent: 15px;
}

#klifzfjzhc .gt_indent_4 {
  text-indent: 20px;
}

#klifzfjzhc .gt_indent_5 {
  text-indent: 25px;
}

#klifzfjzhc .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#klifzfjzhc div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="language" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: black" scope="col">Top Language</th>
<th id="n" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: black" scope="col">Count</th>
<th id="x_scaled" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: black" scope="col">Percent of Total</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="language">R</td>
<td class="gt_row gt_right" headers="n">149</td>
<td class="gt_row gt_left" headers="x_scaled"><div style="flex-grow:1;margin-left:8px;background:#e1e1e1;">
<div style="background:#48c8df;width:46.7084639498433%;height:16px;display:flex;align-items:center;justify-content:flex-start;position:relative;">
<span style="color:#000000;position:absolute;left:0px;margin-left:5px;font-weight:bold;font-size:12px;">46.7%</span>
</div>
</div></td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="language">Python</td>
<td class="gt_row gt_right" headers="n">73</td>
<td class="gt_row gt_left" headers="x_scaled"><div style="flex-grow:1;margin-left:8px;background:#e1e1e1;">
<div style="background:#48c8df;width:22.884012539185%;height:16px;display:flex;align-items:center;justify-content:flex-start;position:relative;">
<span style="color:#000000;position:absolute;left:0px;margin-left:5px;font-weight:bold;font-size:12px;">22.9%</span>
</div>
</div></td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="language">null</td>
<td class="gt_row gt_right" headers="n">42</td>
<td class="gt_row gt_left" headers="x_scaled"><div style="flex-grow:1;margin-left:8px;background:#e1e1e1;">
<div style="background:#48c8df;width:13.166144200627%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;">
<span style="color:#000000;position:absolute;left:0%;margin-left:13.166144200627px;font-weight:bold;font-size:12px;">13.2%</span>
</div>
</div></td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="language">Jupyter Notebook</td>
<td class="gt_row gt_right" headers="n">18</td>
<td class="gt_row gt_left" headers="x_scaled"><div style="flex-grow:1;margin-left:8px;background:#e1e1e1;">
<div style="background:#48c8df;width:5.64263322884013%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;">
<span style="color:#000000;position:absolute;left:0%;margin-left:5.64263322884012px;font-weight:bold;font-size:12px;">5.6%</span>
</div>
</div></td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="language">SAS</td>
<td class="gt_row gt_right" headers="n">8</td>
<td class="gt_row gt_left" headers="x_scaled"><div style="flex-grow:1;margin-left:8px;background:#e1e1e1;">
<div style="background:#48c8df;width:2.50783699059561%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;">
<span style="color:#000000;position:absolute;left:0%;margin-left:2.50783699059561px;font-weight:bold;font-size:12px;">2.5%</span>
</div>
</div></td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="language">TSQL</td>
<td class="gt_row gt_right" headers="n">7</td>
<td class="gt_row gt_left" headers="x_scaled"><div style="flex-grow:1;margin-left:8px;background:#e1e1e1;">
<div style="background:#48c8df;width:2.19435736677116%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;">
<span style="color:#000000;position:absolute;left:0%;margin-left:2.19435736677116px;font-weight:bold;font-size:12px;">2.2%</span>
</div>
</div></td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="language">Batchfile</td>
<td class="gt_row gt_right" headers="n">6</td>
<td class="gt_row gt_left" headers="x_scaled"><div style="flex-grow:1;margin-left:8px;background:#e1e1e1;">
<div style="background:#48c8df;width:1.88087774294671%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;">
<span style="color:#000000;position:absolute;left:0%;margin-left:1.88087774294671px;font-weight:bold;font-size:12px;">1.9%</span>
</div>
</div></td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="language">TeX</td>
<td class="gt_row gt_right" headers="n">5</td>
<td class="gt_row gt_left" headers="x_scaled"><div style="flex-grow:1;margin-left:8px;background:#e1e1e1;">
<div style="background:#48c8df;width:1.56739811912226%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;">
<span style="color:#000000;position:absolute;left:0%;margin-left:1.56739811912226px;font-weight:bold;font-size:12px;">1.6%</span>
</div>
</div></td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="language">HTML</td>
<td class="gt_row gt_right" headers="n">4</td>
<td class="gt_row gt_left" headers="x_scaled"><div style="flex-grow:1;margin-left:8px;background:#e1e1e1;">
<div style="background:#48c8df;width:1.25391849529781%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;">
<span style="color:#000000;position:absolute;left:0%;margin-left:1.25391849529781px;font-weight:bold;font-size:12px;">1.3%</span>
</div>
</div></td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="language">Dockerfile</td>
<td class="gt_row gt_right" headers="n">1</td>
<td class="gt_row gt_left" headers="x_scaled"><div style="flex-grow:1;margin-left:8px;background:#e1e1e1;">
<div style="background:#48c8df;width:0.313479623824451%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;">
<span style="color:#000000;position:absolute;left:0%;margin-left:0.313479623824451px;font-weight:bold;font-size:12px;">0.3%</span>
</div>
</div></td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="language">Java</td>
<td class="gt_row gt_right" headers="n">1</td>
<td class="gt_row gt_left" headers="x_scaled"><div style="flex-grow:1;margin-left:8px;background:#e1e1e1;">
<div style="background:#48c8df;width:0.313479623824451%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;">
<span style="color:#000000;position:absolute;left:0%;margin-left:0.313479623824451px;font-weight:bold;font-size:12px;">0.3%</span>
</div>
</div></td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="language">JavaScript</td>
<td class="gt_row gt_right" headers="n">1</td>
<td class="gt_row gt_left" headers="x_scaled"><div style="flex-grow:1;margin-left:8px;background:#e1e1e1;">
<div style="background:#48c8df;width:0.313479623824451%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;">
<span style="color:#000000;position:absolute;left:0%;margin-left:0.313479623824451px;font-weight:bold;font-size:12px;">0.3%</span>
</div>
</div></td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="language">Rebol</td>
<td class="gt_row gt_right" headers="n">1</td>
<td class="gt_row gt_left" headers="x_scaled"><div style="flex-grow:1;margin-left:8px;background:#e1e1e1;">
<div style="background:#48c8df;width:0.313479623824451%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;">
<span style="color:#000000;position:absolute;left:0%;margin-left:0.313479623824451px;font-weight:bold;font-size:12px;">0.3%</span>
</div>
</div></td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="language">Roff</td>
<td class="gt_row gt_right" headers="n">1</td>
<td class="gt_row gt_left" headers="x_scaled"><div style="flex-grow:1;margin-left:8px;background:#e1e1e1;">
<div style="background:#48c8df;width:0.313479623824451%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;">
<span style="color:#000000;position:absolute;left:0%;margin-left:0.313479623824451px;font-weight:bold;font-size:12px;">0.3%</span>
</div>
</div></td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="language">Rust</td>
<td class="gt_row gt_right" headers="n">1</td>
<td class="gt_row gt_left" headers="x_scaled"><div style="flex-grow:1;margin-left:8px;background:#e1e1e1;">
<div style="background:#48c8df;width:0.313479623824451%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;">
<span style="color:#000000;position:absolute;left:0%;margin-left:0.313479623824451px;font-weight:bold;font-size:12px;">0.3%</span>
</div>
</div></td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="language">Shell</td>
<td class="gt_row gt_right" headers="n">1</td>
<td class="gt_row gt_left" headers="x_scaled"><div style="flex-grow:1;margin-left:8px;background:#e1e1e1;">
<div style="background:#48c8df;width:0.313479623824451%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;">
<span style="color:#000000;position:absolute;left:0%;margin-left:0.313479623824451px;font-weight:bold;font-size:12px;">0.3%</span>
</div>
</div></td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</div>
</div>
<div class="trigger new-trigger" data-focus-on="cr-ploty">
<div class="narrative">
<div class="cell">
<div class="cell-output-display">
<div>
<div id="ahizlnbgau" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
#ahizlnbgau table {
  font-family: 'JetBrains Mono', system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ahizlnbgau thead, #ahizlnbgau tbody, #ahizlnbgau tfoot, #ahizlnbgau tr, #ahizlnbgau td, #ahizlnbgau th {
  border-style: none;
}

#ahizlnbgau p {
  margin: 0;
  padding: 0;
}

#ahizlnbgau .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ahizlnbgau .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ahizlnbgau .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ahizlnbgau .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ahizlnbgau .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ahizlnbgau .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ahizlnbgau .gt_col_headings {
  border-top-style: solid;
  border-top-width: 3px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ahizlnbgau .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ahizlnbgau .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ahizlnbgau .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ahizlnbgau .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ahizlnbgau .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ahizlnbgau .gt_spanner_row {
  border-bottom-style: hidden;
}

#ahizlnbgau .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ahizlnbgau .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ahizlnbgau .gt_from_md > :first-child {
  margin-top: 0;
}

#ahizlnbgau .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ahizlnbgau .gt_row {
  padding-top: 3px;
  padding-bottom: 3px;
  padding-left: 10px;
  padding-right: 10px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ahizlnbgau .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 10px;
  padding-right: 10px;
}

#ahizlnbgau .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ahizlnbgau .gt_row_group_first td {
  border-top-width: 2px;
}

#ahizlnbgau .gt_row_group_first th {
  border-top-width: 2px;
}

#ahizlnbgau .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ahizlnbgau .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ahizlnbgau .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ahizlnbgau .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ahizlnbgau .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ahizlnbgau .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ahizlnbgau .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ahizlnbgau .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ahizlnbgau .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ahizlnbgau .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ahizlnbgau .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ahizlnbgau .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ahizlnbgau .gt_sourcenote {
  font-size: 12px;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ahizlnbgau .gt_left {
  text-align: left;
}

#ahizlnbgau .gt_center {
  text-align: center;
}

#ahizlnbgau .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ahizlnbgau .gt_font_normal {
  font-weight: normal;
}

#ahizlnbgau .gt_font_bold {
  font-weight: bold;
}

#ahizlnbgau .gt_font_italic {
  font-style: italic;
}

#ahizlnbgau .gt_super {
  font-size: 65%;
}

#ahizlnbgau .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ahizlnbgau .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ahizlnbgau .gt_indent_1 {
  text-indent: 5px;
}

#ahizlnbgau .gt_indent_2 {
  text-indent: 10px;
}

#ahizlnbgau .gt_indent_3 {
  text-indent: 15px;
}

#ahizlnbgau .gt_indent_4 {
  text-indent: 20px;
}

#ahizlnbgau .gt_indent_5 {
  text-indent: 25px;
}

#ahizlnbgau .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#ahizlnbgau div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="repo" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: black" scope="col">Repo</th>
<th id="commits" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: black" scope="col">Commits</th>
<th id="language" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: black" scope="col">Top Language</th>
<th id="url" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: black" scope="col">url</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="repo">x</td>
<td class="gt_row gt_right" headers="commits">4628</td>
<td class="gt_row gt_left" headers="language">null</td>
<td class="gt_row gt_left" headers="url">github.com/x/x/x</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="repo">x</td>
<td class="gt_row gt_right" headers="commits">1748</td>
<td class="gt_row gt_left" headers="language">Python</td>
<td class="gt_row gt_left" headers="url">github.com/x/x/x</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="repo">x</td>
<td class="gt_row gt_right" headers="commits">1199</td>
<td class="gt_row gt_left" headers="language">R</td>
<td class="gt_row gt_left" headers="url">github.com/x/x/x</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="repo">x</td>
<td class="gt_row gt_right" headers="commits">1045</td>
<td class="gt_row gt_left" headers="language">HTML</td>
<td class="gt_row gt_left" headers="url">github.com/x/x/x</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="repo">x</td>
<td class="gt_row gt_right" headers="commits">1045</td>
<td class="gt_row gt_left" headers="language">Python</td>
<td class="gt_row gt_left" headers="url">github.com/x/x/x</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sticky-col">
<div class="sticky-col-stack">
<div id="cr-ploty" class="sticky">
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb1" data-startfrom="157" data-source-offset="-1"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 156;"><span id="cb1-157"><a href="#cb1-157" aria-hidden="true" tabindex="-1"></a>node_data <span class="op">=</span> <span class="fu">FileAttachment</span>(<span class="st">"repo_data_test.csv"</span>)<span class="op">.</span><span class="fu">csv</span>()</span>
<span id="cb1-158"><a href="#cb1-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-159"><a href="#cb1-159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-160"><a href="#cb1-160" aria-hidden="true" tabindex="-1"></a>nodes <span class="op">=</span> node_data<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> <span class="bu">Object</span><span class="op">.</span><span class="fu">create</span>(d))</span>
<span id="cb1-161"><a href="#cb1-161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-162"><a href="#cb1-162" aria-hidden="true" tabindex="-1"></a><span class="co">// bfScale = d3.scaleLinear()</span></span>
<span id="cb1-163"><a href="#cb1-163" aria-hidden="true" tabindex="-1"></a><span class="co">//   .domain([1, 5])</span></span>
<span id="cb1-164"><a href="#cb1-164" aria-hidden="true" tabindex="-1"></a><span class="co">//   .range([1930, 2020])</span></span>
<span id="cb1-165"><a href="#cb1-165" aria-hidden="true" tabindex="-1"></a><span class="co">//   .clamp(true)</span></span>
<span id="cb1-166"><a href="#cb1-166" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-167"><a href="#cb1-167" aria-hidden="true" tabindex="-1"></a>scan <span class="op">=</span> crTriggerIndex</span>
<span id="cb1-168"><a href="#cb1-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-169"><a href="#cb1-169" aria-hidden="true" tabindex="-1"></a>chart_param <span class="op">=</span> ({</span>
<span id="cb1-170"><a href="#cb1-170" aria-hidden="true" tabindex="-1"></a>  <span class="dt">width</span><span class="op">:</span> width<span class="op">,</span></span>
<span id="cb1-171"><a href="#cb1-171" aria-hidden="true" tabindex="-1"></a>  <span class="dt">height</span><span class="op">:</span> <span class="dv">600</span><span class="op">,</span></span>
<span id="cb1-172"><a href="#cb1-172" aria-hidden="true" tabindex="-1"></a>  <span class="dt">margin</span><span class="op">:</span> {</span>
<span id="cb1-173"><a href="#cb1-173" aria-hidden="true" tabindex="-1"></a>    <span class="dt">top</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span></span>
<span id="cb1-174"><a href="#cb1-174" aria-hidden="true" tabindex="-1"></a>    <span class="dt">right</span><span class="op">:</span> <span class="dv">40</span><span class="op">,</span></span>
<span id="cb1-175"><a href="#cb1-175" aria-hidden="true" tabindex="-1"></a>    <span class="dt">bottom</span><span class="op">:</span> <span class="dv">80</span><span class="op">,</span></span>
<span id="cb1-176"><a href="#cb1-176" aria-hidden="true" tabindex="-1"></a>    <span class="dt">left</span><span class="op">:</span> <span class="dv">60</span><span class="op">,</span></span>
<span id="cb1-177"><a href="#cb1-177" aria-hidden="true" tabindex="-1"></a>    <span class="dt">center</span><span class="op">:</span> <span class="dv">150</span></span>
<span id="cb1-178"><a href="#cb1-178" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb1-179"><a href="#cb1-179" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb1-180"><a href="#cb1-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-181"><a href="#cb1-181" aria-hidden="true" tabindex="-1"></a>chart <span class="op">=</span> {</span>
<span id="cb1-182"><a href="#cb1-182" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Define base scales for positioning circles</span></span>
<span id="cb1-183"><a href="#cb1-183" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> x <span class="op">=</span> d3<span class="op">.</span><span class="fu">scaleLinear</span>()</span>
<span id="cb1-184"><a href="#cb1-184" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">domain</span>([<span class="dv">0</span><span class="op">,</span> <span class="dv">1</span>])</span>
<span id="cb1-185"><a href="#cb1-185" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">range</span>([chart_param<span class="op">.</span><span class="at">margin</span><span class="op">.</span><span class="at">left</span><span class="op">,</span> chart_param<span class="op">.</span><span class="at">width</span> <span class="op">-</span> chart_param<span class="op">.</span><span class="at">margin</span><span class="op">.</span><span class="at">right</span>])<span class="op">;</span></span>
<span id="cb1-186"><a href="#cb1-186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-187"><a href="#cb1-187" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> y <span class="op">=</span> d3<span class="op">.</span><span class="fu">scaleLinear</span>()</span>
<span id="cb1-188"><a href="#cb1-188" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">domain</span>([<span class="dv">0</span><span class="op">,</span> <span class="dv">1</span>])</span>
<span id="cb1-189"><a href="#cb1-189" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">range</span>([chart_param<span class="op">.</span><span class="at">height</span> <span class="op">-</span> chart_param<span class="op">.</span><span class="at">margin</span><span class="op">.</span><span class="at">bottom</span><span class="op">,</span> chart_param<span class="op">.</span><span class="at">margin</span><span class="op">.</span><span class="at">top</span>])<span class="op">;</span></span>
<span id="cb1-190"><a href="#cb1-190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-191"><a href="#cb1-191" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Initialize SVG container</span></span>
<span id="cb1-192"><a href="#cb1-192" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> svg <span class="op">=</span> d3<span class="op">.</span><span class="fu">select</span>(DOM<span class="op">.</span><span class="fu">svg</span>(chart_param<span class="op">.</span><span class="at">width</span><span class="op">,</span> chart_param<span class="op">.</span><span class="at">height</span>))<span class="op">;</span></span>
<span id="cb1-193"><a href="#cb1-193" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-194"><a href="#cb1-194" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Append title and subtitle</span></span>
<span id="cb1-195"><a href="#cb1-195" aria-hidden="true" tabindex="-1"></a>  svg<span class="op">.</span><span class="fu">append</span>(<span class="st">"text"</span>)</span>
<span id="cb1-196"><a href="#cb1-196" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x"</span><span class="op">,</span> chart_param<span class="op">.</span><span class="at">width</span> <span class="op">/</span> <span class="dv">2</span>)</span>
<span id="cb1-197"><a href="#cb1-197" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y"</span><span class="op">,</span> chart_param<span class="op">.</span><span class="at">margin</span><span class="op">.</span><span class="at">top</span> <span class="op">-</span> <span class="dv">25</span>)</span>
<span id="cb1-198"><a href="#cb1-198" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"text-anchor"</span><span class="op">,</span> <span class="st">"middle"</span>)</span>
<span id="cb1-199"><a href="#cb1-199" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"font-size"</span><span class="op">,</span> <span class="st">"20px"</span>)</span>
<span id="cb1-200"><a href="#cb1-200" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"font-weight"</span><span class="op">,</span> <span class="st">"bold"</span>)</span>
<span id="cb1-201"><a href="#cb1-201" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">text</span>(<span class="st">"Beeswarm Plot of GitHub Repos Over Time"</span>)<span class="op">;</span></span>
<span id="cb1-202"><a href="#cb1-202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-203"><a href="#cb1-203" aria-hidden="true" tabindex="-1"></a>  svg<span class="op">.</span><span class="fu">append</span>(<span class="st">"text"</span>)</span>
<span id="cb1-204"><a href="#cb1-204" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x"</span><span class="op">,</span> chart_param<span class="op">.</span><span class="at">width</span> <span class="op">/</span> <span class="dv">2</span>)</span>
<span id="cb1-205"><a href="#cb1-205" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y"</span><span class="op">,</span> chart_param<span class="op">.</span><span class="at">margin</span><span class="op">.</span><span class="at">top</span> <span class="op">-</span> <span class="dv">10</span>)</span>
<span id="cb1-206"><a href="#cb1-206" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"text-anchor"</span><span class="op">,</span> <span class="st">"middle"</span>)</span>
<span id="cb1-207"><a href="#cb1-207" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"font-size"</span><span class="op">,</span> <span class="st">"14px"</span>)</span>
<span id="cb1-208"><a href="#cb1-208" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"font-weight"</span><span class="op">,</span> <span class="st">"normal"</span>)</span>
<span id="cb1-209"><a href="#cb1-209" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">text</span>(<span class="st">"A visualization of repositories in the DOH-EPI-Coders organization"</span>)<span class="op">;</span></span>
<span id="cb1-210"><a href="#cb1-210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-211"><a href="#cb1-211" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Preprocess data: Map any language that isn't "R" or "Python" to "Other"</span></span>
<span id="cb1-212"><a href="#cb1-212" aria-hidden="true" tabindex="-1"></a>  node_data<span class="op">.</span><span class="fu">forEach</span>(d <span class="kw">=&gt;</span> {</span>
<span id="cb1-213"><a href="#cb1-213" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (d<span class="op">.</span><span class="at">language</span> <span class="op">===</span> <span class="st">"Jupyter Notebook"</span>) {</span>
<span id="cb1-214"><a href="#cb1-214" aria-hidden="true" tabindex="-1"></a>      d<span class="op">.</span><span class="at">language</span> <span class="op">=</span> <span class="st">"Python"</span><span class="op">;</span></span>
<span id="cb1-215"><a href="#cb1-215" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> <span class="cf">if</span> (d<span class="op">.</span><span class="at">language</span> <span class="op">!==</span> <span class="st">"R"</span> <span class="op">&amp;&amp;</span> d<span class="op">.</span><span class="at">language</span> <span class="op">!==</span> <span class="st">"Python"</span>) {</span>
<span id="cb1-216"><a href="#cb1-216" aria-hidden="true" tabindex="-1"></a>      d<span class="op">.</span><span class="at">language</span> <span class="op">=</span> <span class="st">"Other"</span><span class="op">;</span></span>
<span id="cb1-217"><a href="#cb1-217" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb1-218"><a href="#cb1-218" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb1-219"><a href="#cb1-219" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-220"><a href="#cb1-220" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Group nodes by language using d3.group</span></span>
<span id="cb1-221"><a href="#cb1-221" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> languages <span class="op">=</span> d3<span class="op">.</span><span class="fu">group</span>(node_data<span class="op">,</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">language</span>)<span class="op">;</span></span>
<span id="cb1-222"><a href="#cb1-222" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-223"><a href="#cb1-223" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Viridis colors for languages</span></span>
<span id="cb1-224"><a href="#cb1-224" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> colorScale <span class="op">=</span> d3<span class="op">.</span><span class="fu">scaleOrdinal</span>()</span>
<span id="cb1-225"><a href="#cb1-225" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">domain</span>([<span class="st">"R"</span><span class="op">,</span> <span class="st">"Python"</span><span class="op">,</span> <span class="st">"Other"</span>])  <span class="co">// List of languages you want to color</span></span>
<span id="cb1-226"><a href="#cb1-226" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">range</span>([<span class="st">"#440154"</span><span class="op">,</span> <span class="st">"#3B528B"</span><span class="op">,</span> <span class="st">"#287D49"</span>])<span class="op">;</span>  <span class="co">// Adjusted Viridis colors with more green</span></span>
<span id="cb1-227"><a href="#cb1-227" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-228"><a href="#cb1-228" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Scale for node radius based on the number of commits</span></span>
<span id="cb1-229"><a href="#cb1-229" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> radiusScale <span class="op">=</span> d3<span class="op">.</span><span class="fu">scaleLog</span>()</span>
<span id="cb1-230"><a href="#cb1-230" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">domain</span>([<span class="dv">1</span><span class="op">,</span> <span class="dv">5000</span>])  <span class="co">// Adjust the domain to your data range</span></span>
<span id="cb1-231"><a href="#cb1-231" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">range</span>([<span class="dv">1</span><span class="op">,</span> <span class="dv">13</span>])<span class="op">;</span>      <span class="co">// Adjust the range for the circle radius</span></span>
<span id="cb1-232"><a href="#cb1-232" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-233"><a href="#cb1-233" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Define x scale based on create_date for grouping by date</span></span>
<span id="cb1-234"><a href="#cb1-234" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> xScale <span class="op">=</span> d3<span class="op">.</span><span class="fu">scaleTime</span>()</span>
<span id="cb1-235"><a href="#cb1-235" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">domain</span>([<span class="kw">new</span> <span class="bu">Date</span>(<span class="st">"2020-01-01"</span>)<span class="op">,</span> <span class="kw">new</span> <span class="bu">Date</span>(<span class="st">"2026-01-01"</span>)]) <span class="co">// Set date range</span></span>
<span id="cb1-236"><a href="#cb1-236" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">range</span>([chart_param<span class="op">.</span><span class="at">margin</span><span class="op">.</span><span class="at">left</span><span class="op">,</span> chart_param<span class="op">.</span><span class="at">width</span> <span class="op">-</span> chart_param<span class="op">.</span><span class="at">margin</span><span class="op">.</span><span class="at">right</span>])<span class="op">;</span></span>
<span id="cb1-237"><a href="#cb1-237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-238"><a href="#cb1-238" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Set up the y-scale based on language groups</span></span>
<span id="cb1-239"><a href="#cb1-239" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> yScale <span class="op">=</span> d3<span class="op">.</span><span class="fu">scaleBand</span>()</span>
<span id="cb1-240"><a href="#cb1-240" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">domain</span>(<span class="bu">Array</span><span class="op">.</span><span class="fu">from</span>(languages<span class="op">.</span><span class="fu">keys</span>()))  <span class="co">// Use the language groups as domain</span></span>
<span id="cb1-241"><a href="#cb1-241" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">range</span>([chart_param<span class="op">.</span><span class="at">margin</span><span class="op">.</span><span class="at">top</span><span class="op">,</span> chart_param<span class="op">.</span><span class="at">height</span> <span class="op">-</span> chart_param<span class="op">.</span><span class="at">margin</span><span class="op">.</span><span class="at">bottom</span>])</span>
<span id="cb1-242"><a href="#cb1-242" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">padding</span>(<span class="fl">0.1</span>)<span class="op">;</span>  <span class="co">// Add padding for spacing between the groups</span></span>
<span id="cb1-243"><a href="#cb1-243" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-244"><a href="#cb1-244" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">createNodes</span>(scan) {</span>
<span id="cb1-245"><a href="#cb1-245" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Sort repos by commits in descending order and get the top 5 for scan == 3</span></span>
<span id="cb1-246"><a href="#cb1-246" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> topRepos <span class="op">=</span> scan <span class="op">===</span> <span class="dv">3</span> <span class="op">?</span> node_data<span class="op">.</span><span class="fu">sort</span>((a<span class="op">,</span> b) <span class="kw">=&gt;</span> b<span class="op">.</span><span class="at">commits</span> <span class="op">-</span> a<span class="op">.</span><span class="at">commits</span>)<span class="op">.</span><span class="fu">slice</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">5</span>) <span class="op">:</span> []<span class="op">;</span></span>
<span id="cb1-247"><a href="#cb1-247" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> topRepoCommits <span class="op">=</span> <span class="kw">new</span> <span class="bu">Set</span>(topRepos<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">commits</span>))<span class="op">;</span></span>
<span id="cb1-248"><a href="#cb1-248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-249"><a href="#cb1-249" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Initialize simulation with the base forces</span></span>
<span id="cb1-250"><a href="#cb1-250" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> sim <span class="op">=</span> d3</span>
<span id="cb1-251"><a href="#cb1-251" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">forceSimulation</span>(node_data)</span>
<span id="cb1-252"><a href="#cb1-252" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">force</span>(<span class="st">"x"</span><span class="op">,</span> d3<span class="op">.</span><span class="fu">forceX</span>(d <span class="kw">=&gt;</span> <span class="fu">xScale</span>(<span class="kw">new</span> <span class="bu">Date</span>(d<span class="op">.</span><span class="at">create_date</span>))))  <span class="co">// Position along the X-axis based on create_date</span></span>
<span id="cb1-253"><a href="#cb1-253" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">force</span>(<span class="st">"collide"</span><span class="op">,</span> d3<span class="op">.</span><span class="fu">forceCollide</span>()<span class="op">.</span><span class="fu">radius</span>(d <span class="kw">=&gt;</span> <span class="fu">radiusScale</span>(d<span class="op">.</span><span class="at">commits</span>) <span class="op">+</span> <span class="dv">1</span>)<span class="op">.</span><span class="fu">strength</span>(<span class="fl">0.5</span>))<span class="op">;</span>  <span class="co">// Default collision force</span></span>
<span id="cb1-254"><a href="#cb1-254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-255"><a href="#cb1-255" aria-hidden="true" tabindex="-1"></a>    <span class="co">// If `scan &gt; 1`, apply additional forces for language grouping</span></span>
<span id="cb1-256"><a href="#cb1-256" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (scan <span class="op">&gt;</span> <span class="dv">1</span>) {</span>
<span id="cb1-257"><a href="#cb1-257" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Apply additional y-force to divide nodes by language</span></span>
<span id="cb1-258"><a href="#cb1-258" aria-hidden="true" tabindex="-1"></a>      sim<span class="op">.</span><span class="fu">force</span>(<span class="st">"y"</span><span class="op">,</span> d3<span class="op">.</span><span class="fu">forceY</span>(d <span class="kw">=&gt;</span> <span class="fu">yScale</span>(d<span class="op">.</span><span class="at">language</span>) <span class="op">+</span> <span class="dv">70</span>))  <span class="co">// Position nodes along y-axis based on language</span></span>
<span id="cb1-259"><a href="#cb1-259" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">force</span>(<span class="st">"collide"</span><span class="op">,</span> d3<span class="op">.</span><span class="fu">forceCollide</span>()<span class="op">.</span><span class="fu">radius</span>(d <span class="kw">=&gt;</span> <span class="fu">radiusScale</span>(d<span class="op">.</span><span class="at">commits</span>) <span class="op">+</span> <span class="dv">1</span>)<span class="op">.</span><span class="fu">strength</span>(<span class="fl">0.8</span>))<span class="op">;</span>  <span class="co">// Adjust collision force</span></span>
<span id="cb1-260"><a href="#cb1-260" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-261"><a href="#cb1-261" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Create x-axis for years</span></span>
<span id="cb1-262"><a href="#cb1-262" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> xAxis <span class="op">=</span> d3<span class="op">.</span><span class="fu">axisBottom</span>(xScale)<span class="op">.</span><span class="fu">tickFormat</span>(d3<span class="op">.</span><span class="fu">timeFormat</span>(<span class="st">"%Y"</span>))<span class="op">;</span></span>
<span id="cb1-263"><a href="#cb1-263" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> xAxisGroup <span class="op">=</span> svg<span class="op">.</span><span class="fu">append</span>(<span class="st">"g"</span>)</span>
<span id="cb1-264"><a href="#cb1-264" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"transform"</span><span class="op">,</span> <span class="vs">`translate(0, </span><span class="sc">${</span>chart_param<span class="op">.</span><span class="at">height</span> <span class="op">-</span> chart_param<span class="op">.</span><span class="at">margin</span><span class="op">.</span><span class="at">bottom</span><span class="sc">}</span><span class="vs">)`</span>)</span>
<span id="cb1-265"><a href="#cb1-265" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">call</span>(xAxis)<span class="op">;</span></span>
<span id="cb1-266"><a href="#cb1-266" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-267"><a href="#cb1-267" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Style x-axis labels (make them bold and larger)</span></span>
<span id="cb1-268"><a href="#cb1-268" aria-hidden="true" tabindex="-1"></a>        xAxisGroup<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">"text"</span>)</span>
<span id="cb1-269"><a href="#cb1-269" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">attr</span>(<span class="st">"font-size"</span><span class="op">,</span> <span class="st">"16px"</span>)    <span class="co">// Set font size to 16px or any value you prefer</span></span>
<span id="cb1-270"><a href="#cb1-270" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">attr</span>(<span class="st">"font-weight"</span><span class="op">,</span> <span class="st">"bold"</span>)<span class="op">;</span> <span class="co">// Make the labels bold</span></span>
<span id="cb1-271"><a href="#cb1-271" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-272"><a href="#cb1-272" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Create y-axis for language groups</span></span>
<span id="cb1-273"><a href="#cb1-273" aria-hidden="true" tabindex="-1"></a>        <span class="kw">const</span> yAxis <span class="op">=</span> d3<span class="op">.</span><span class="fu">axisLeft</span>(yScale)<span class="op">;</span></span>
<span id="cb1-274"><a href="#cb1-274" aria-hidden="true" tabindex="-1"></a>        <span class="kw">const</span> yAxisGroup <span class="op">=</span> svg<span class="op">.</span><span class="fu">append</span>(<span class="st">"g"</span>)</span>
<span id="cb1-275"><a href="#cb1-275" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">attr</span>(<span class="st">"transform"</span><span class="op">,</span> <span class="vs">`translate(</span><span class="sc">${</span>chart_param<span class="op">.</span><span class="at">margin</span><span class="op">.</span><span class="at">left</span><span class="sc">}</span><span class="vs">, 0)`</span>)</span>
<span id="cb1-276"><a href="#cb1-276" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">call</span>(yAxis)<span class="op">;</span></span>
<span id="cb1-277"><a href="#cb1-277" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb1-278"><a href="#cb1-278" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Style y-axis labels (make them bold and larger)</span></span>
<span id="cb1-279"><a href="#cb1-279" aria-hidden="true" tabindex="-1"></a>        yAxisGroup<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">"text"</span>)</span>
<span id="cb1-280"><a href="#cb1-280" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">attr</span>(<span class="st">"font-size"</span><span class="op">,</span> <span class="st">"15px"</span>)    <span class="co">// Set font size to 16px or any value you prefer</span></span>
<span id="cb1-281"><a href="#cb1-281" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">attr</span>(<span class="st">"font-weight"</span><span class="op">,</span> <span class="st">"bold"</span>)<span class="op">;</span> <span class="co">// Make the labels bold</span></span>
<span id="cb1-282"><a href="#cb1-282" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb1-283"><a href="#cb1-283" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb1-284"><a href="#cb1-284" aria-hidden="true" tabindex="-1"></a>      <span class="co">// For `scan === 1`, apply the default force with no language division</span></span>
<span id="cb1-285"><a href="#cb1-285" aria-hidden="true" tabindex="-1"></a>      sim<span class="op">.</span><span class="fu">force</span>(<span class="st">"y"</span><span class="op">,</span> d3<span class="op">.</span><span class="fu">forceY</span>(chart_param<span class="op">.</span><span class="at">height</span> <span class="op">/</span> <span class="dv">2</span>))  <span class="co">// All nodes at the center of Y-axis</span></span>
<span id="cb1-286"><a href="#cb1-286" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">force</span>(<span class="st">"collide"</span><span class="op">,</span> d3<span class="op">.</span><span class="fu">forceCollide</span>()<span class="op">.</span><span class="fu">radius</span>(d <span class="kw">=&gt;</span> <span class="fu">radiusScale</span>(d<span class="op">.</span><span class="at">commits</span>) <span class="op">+</span> <span class="dv">1</span>)<span class="op">.</span><span class="fu">strength</span>(<span class="fl">0.5</span>))<span class="op">;</span>  <span class="co">// Default collision force</span></span>
<span id="cb1-287"><a href="#cb1-287" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-288"><a href="#cb1-288" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Create x-axis for years</span></span>
<span id="cb1-289"><a href="#cb1-289" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> xAxis <span class="op">=</span> d3<span class="op">.</span><span class="fu">axisBottom</span>(xScale)<span class="op">.</span><span class="fu">tickFormat</span>(d3<span class="op">.</span><span class="fu">timeFormat</span>(<span class="st">"%Y"</span>))<span class="op">;</span></span>
<span id="cb1-290"><a href="#cb1-290" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> xAxisGroup <span class="op">=</span> svg<span class="op">.</span><span class="fu">append</span>(<span class="st">"g"</span>)</span>
<span id="cb1-291"><a href="#cb1-291" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"transform"</span><span class="op">,</span> <span class="vs">`translate(0, </span><span class="sc">${</span>chart_param<span class="op">.</span><span class="at">height</span> <span class="op">-</span> chart_param<span class="op">.</span><span class="at">margin</span><span class="op">.</span><span class="at">bottom</span><span class="sc">}</span><span class="vs">)`</span>)</span>
<span id="cb1-292"><a href="#cb1-292" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">call</span>(xAxis)<span class="op">;</span></span>
<span id="cb1-293"><a href="#cb1-293" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-294"><a href="#cb1-294" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Style x-axis labels (make them bold and larger)</span></span>
<span id="cb1-295"><a href="#cb1-295" aria-hidden="true" tabindex="-1"></a>    xAxisGroup<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">"text"</span>)</span>
<span id="cb1-296"><a href="#cb1-296" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"font-size"</span><span class="op">,</span> <span class="st">"16px"</span>)    <span class="co">// Set font size to 16px or any value you prefer</span></span>
<span id="cb1-297"><a href="#cb1-297" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"font-weight"</span><span class="op">,</span> <span class="st">"bold"</span>)<span class="op">;</span> <span class="co">// Make the labels bold</span></span>
<span id="cb1-298"><a href="#cb1-298" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-299"><a href="#cb1-299" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb1-300"><a href="#cb1-300" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-301"><a href="#cb1-301" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Restart the simulation to apply the changes</span></span>
<span id="cb1-302"><a href="#cb1-302" aria-hidden="true" tabindex="-1"></a>    sim<span class="op">.</span><span class="fu">alpha</span>(<span class="dv">1</span>)</span>
<span id="cb1-303"><a href="#cb1-303" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">alphaDecay</span>(<span class="fl">0.05</span>)</span>
<span id="cb1-304"><a href="#cb1-304" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">restart</span>()<span class="op">;</span></span>
<span id="cb1-305"><a href="#cb1-305" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-306"><a href="#cb1-306" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Bind data and draw nodes</span></span>
<span id="cb1-307"><a href="#cb1-307" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> node <span class="op">=</span> svg<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">".node"</span>)</span>
<span id="cb1-308"><a href="#cb1-308" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">data</span>(node_data)</span>
<span id="cb1-309"><a href="#cb1-309" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">enter</span>()</span>
<span id="cb1-310"><a href="#cb1-310" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">append</span>(<span class="st">"circle"</span>)</span>
<span id="cb1-311"><a href="#cb1-311" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"class"</span><span class="op">,</span> <span class="st">"node"</span>)</span>
<span id="cb1-312"><a href="#cb1-312" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"r"</span><span class="op">,</span> d <span class="kw">=&gt;</span> <span class="fu">radiusScale</span>(d<span class="op">.</span><span class="at">commits</span>))  <span class="co">// Set the radius based on the 'commits' field</span></span>
<span id="cb1-313"><a href="#cb1-313" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"cx"</span><span class="op">,</span> d <span class="kw">=&gt;</span> <span class="fu">xScale</span>(<span class="kw">new</span> <span class="bu">Date</span>(d<span class="op">.</span><span class="at">create_date</span>)))  <span class="co">// Set initial x position based on date</span></span>
<span id="cb1-314"><a href="#cb1-314" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"cy"</span><span class="op">,</span> d <span class="kw">=&gt;</span> scan <span class="op">&gt;</span> <span class="dv">1</span> <span class="op">?</span> <span class="fu">yScale</span>(d<span class="op">.</span><span class="at">language</span>) <span class="op">:</span> chart_param<span class="op">.</span><span class="at">height</span> <span class="op">/</span> <span class="dv">2</span>)  <span class="co">// Correct y position based on language</span></span>
<span id="cb1-315"><a href="#cb1-315" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">style</span>(<span class="st">"fill"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> topRepoCommits<span class="op">.</span><span class="fu">has</span>(d<span class="op">.</span><span class="at">commits</span>) <span class="op">?</span> <span class="st">"orange"</span> <span class="op">:</span> <span class="fu">colorScale</span>(d<span class="op">.</span><span class="at">language</span>))  <span class="co">// Highlight top 5 repos with orange</span></span>
<span id="cb1-316"><a href="#cb1-316" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">style</span>(<span class="st">"opacity"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> topRepoCommits<span class="op">.</span><span class="fu">has</span>(d<span class="op">.</span><span class="at">commits</span>) <span class="op">?</span> <span class="dv">1</span> <span class="op">:</span> <span class="fl">0.6</span>)<span class="op">;</span>  <span class="co">// Lower opacity for non-top 5 repos</span></span>
<span id="cb1-317"><a href="#cb1-317" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-318"><a href="#cb1-318" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Add tooltips with repo info</span></span>
<span id="cb1-319"><a href="#cb1-319" aria-hidden="true" tabindex="-1"></a>    node<span class="op">.</span><span class="fu">append</span>(<span class="st">"title"</span>)</span>
<span id="cb1-320"><a href="#cb1-320" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">text</span>(d <span class="kw">=&gt;</span></span>
<span id="cb1-321"><a href="#cb1-321" aria-hidden="true" tabindex="-1"></a>        <span class="vs">`Repo: </span><span class="sc">${</span>d<span class="op">.</span><span class="at">repo</span><span class="sc">}\n</span><span class="vs">`</span> <span class="op">+</span></span>
<span id="cb1-322"><a href="#cb1-322" aria-hidden="true" tabindex="-1"></a>        <span class="vs">`Commits: </span><span class="sc">${</span>d<span class="op">.</span><span class="at">commits</span><span class="sc">}\n</span><span class="vs">`</span> <span class="op">+</span></span>
<span id="cb1-323"><a href="#cb1-323" aria-hidden="true" tabindex="-1"></a>        <span class="vs">`Contributors: </span><span class="sc">${</span>d<span class="op">.</span><span class="at">contributors</span><span class="sc">}\n</span><span class="vs">`</span> <span class="op">+</span></span>
<span id="cb1-324"><a href="#cb1-324" aria-hidden="true" tabindex="-1"></a>        <span class="vs">`Create Date: </span><span class="sc">${</span>d<span class="op">.</span><span class="at">create_date</span><span class="sc">}</span><span class="vs">`</span></span>
<span id="cb1-325"><a href="#cb1-325" aria-hidden="true" tabindex="-1"></a>      )<span class="op">;</span></span>
<span id="cb1-326"><a href="#cb1-326" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-327"><a href="#cb1-327" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Hover effect to change circle color to red on mouseover, revert on mouseout</span></span>
<span id="cb1-328"><a href="#cb1-328" aria-hidden="true" tabindex="-1"></a>    node<span class="op">.</span><span class="fu">on</span>(<span class="st">"mouseover"</span><span class="op">,</span> <span class="kw">function</span>(<span class="bu">event</span><span class="op">,</span> d) {</span>
<span id="cb1-329"><a href="#cb1-329" aria-hidden="true" tabindex="-1"></a>    d3<span class="op">.</span><span class="fu">select</span>(<span class="kw">this</span>)</span>
<span id="cb1-330"><a href="#cb1-330" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"fill"</span><span class="op">,</span> <span class="st">"red"</span>)  <span class="co">// Change the fill color to red on mouseover</span></span>
<span id="cb1-331"><a href="#cb1-331" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"stroke"</span><span class="op">,</span> <span class="st">"black"</span>)  <span class="co">// Add black border</span></span>
<span id="cb1-332"><a href="#cb1-332" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"stroke-width"</span><span class="op">,</span> <span class="dv">2</span>)<span class="op">;</span>  <span class="co">// Set the border width</span></span>
<span id="cb1-333"><a href="#cb1-333" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb1-334"><a href="#cb1-334" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">on</span>(<span class="st">"mouseout"</span><span class="op">,</span> <span class="kw">function</span>(<span class="bu">event</span><span class="op">,</span> d) {</span>
<span id="cb1-335"><a href="#cb1-335" aria-hidden="true" tabindex="-1"></a>    d3<span class="op">.</span><span class="fu">select</span>(<span class="kw">this</span>)</span>
<span id="cb1-336"><a href="#cb1-336" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"fill"</span><span class="op">,</span> (d) <span class="kw">=&gt;</span> topRepoCommits<span class="op">.</span><span class="fu">has</span>(d<span class="op">.</span><span class="at">commits</span>) <span class="op">?</span> <span class="st">"orange"</span> <span class="op">:</span> <span class="fu">colorScale</span>(d<span class="op">.</span><span class="at">language</span>))  <span class="co">// Reset the fill color</span></span>
<span id="cb1-337"><a href="#cb1-337" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"stroke"</span><span class="op">,</span> <span class="kw">null</span>)  <span class="co">// Remove the border on mouse out</span></span>
<span id="cb1-338"><a href="#cb1-338" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"stroke-width"</span><span class="op">,</span> <span class="kw">null</span>)<span class="op">;</span>  <span class="co">// Reset the border width</span></span>
<span id="cb1-339"><a href="#cb1-339" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb1-340"><a href="#cb1-340" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-341"><a href="#cb1-341" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Show detailed data on click with line breaks</span></span>
<span id="cb1-342"><a href="#cb1-342" aria-hidden="true" tabindex="-1"></a>    node<span class="op">.</span><span class="fu">on</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>(<span class="bu">event</span><span class="op">,</span> d) {</span>
<span id="cb1-343"><a href="#cb1-343" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> clickTooltip <span class="op">=</span> d3<span class="op">.</span><span class="fu">select</span>(<span class="st">"body"</span>)<span class="op">.</span><span class="fu">append</span>(<span class="st">"div"</span>)</span>
<span id="cb1-344"><a href="#cb1-344" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">attr</span>(<span class="st">"class"</span><span class="op">,</span> <span class="st">"click-tooltip"</span>)</span>
<span id="cb1-345"><a href="#cb1-345" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">style</span>(<span class="st">"position"</span><span class="op">,</span> <span class="st">"absolute"</span>)</span>
<span id="cb1-346"><a href="#cb1-346" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">style</span>(<span class="st">"visibility"</span><span class="op">,</span> <span class="st">"hidden"</span>)</span>
<span id="cb1-347"><a href="#cb1-347" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">style</span>(<span class="st">"background"</span><span class="op">,</span> <span class="st">"rgba(0, 0, 0, 0.7)"</span>)</span>
<span id="cb1-348"><a href="#cb1-348" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">style</span>(<span class="st">"color"</span><span class="op">,</span> <span class="st">"white"</span>)</span>
<span id="cb1-349"><a href="#cb1-349" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">style</span>(<span class="st">"border-radius"</span><span class="op">,</span> <span class="st">"4px"</span>)</span>
<span id="cb1-350"><a href="#cb1-350" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">style</span>(<span class="st">"padding"</span><span class="op">,</span> <span class="st">"10px"</span>)</span>
<span id="cb1-351"><a href="#cb1-351" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">style</span>(<span class="st">"font-size"</span><span class="op">,</span> <span class="st">"14px"</span>)</span>
<span id="cb1-352"><a href="#cb1-352" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">html</span>(<span class="vs">`</span></span>
<span id="cb1-353"><a href="#cb1-353" aria-hidden="true" tabindex="-1"></a><span class="vs">          &lt;strong&gt;Repo:&lt;/strong&gt; </span><span class="sc">${</span>d<span class="op">.</span><span class="at">repo</span><span class="sc">}</span><span class="vs">&lt;br&gt;</span></span>
<span id="cb1-354"><a href="#cb1-354" aria-hidden="true" tabindex="-1"></a><span class="vs">          &lt;strong&gt;Commits:&lt;/strong&gt; </span><span class="sc">${</span>d<span class="op">.</span><span class="at">commits</span><span class="sc">}</span><span class="vs">&lt;br&gt;</span></span>
<span id="cb1-355"><a href="#cb1-355" aria-hidden="true" tabindex="-1"></a><span class="vs">          &lt;strong&gt;Contributors:&lt;/strong&gt; </span><span class="sc">${</span>d<span class="op">.</span><span class="at">contributors</span><span class="sc">}</span><span class="vs">&lt;br&gt;</span></span>
<span id="cb1-356"><a href="#cb1-356" aria-hidden="true" tabindex="-1"></a><span class="vs">          &lt;strong&gt;Create Date:&lt;/strong&gt; </span><span class="sc">${</span>d<span class="op">.</span><span class="at">create_date</span><span class="sc">}</span></span>
<span id="cb1-357"><a href="#cb1-357" aria-hidden="true" tabindex="-1"></a><span class="vs">        `</span>)<span class="op">;</span></span>
<span id="cb1-358"><a href="#cb1-358" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-359"><a href="#cb1-359" aria-hidden="true" tabindex="-1"></a>      clickTooltip<span class="op">.</span><span class="fu">style</span>(<span class="st">"visibility"</span><span class="op">,</span> <span class="st">"visible"</span>)</span>
<span id="cb1-360"><a href="#cb1-360" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">style</span>(<span class="st">"top"</span><span class="op">,</span> <span class="vs">`</span><span class="sc">${</span><span class="bu">event</span><span class="op">.</span><span class="at">pageY</span> <span class="op">+</span> <span class="dv">10</span><span class="sc">}</span><span class="vs">px`</span>)</span>
<span id="cb1-361"><a href="#cb1-361" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">style</span>(<span class="st">"left"</span><span class="op">,</span> <span class="vs">`</span><span class="sc">${</span><span class="bu">event</span><span class="op">.</span><span class="at">pageX</span> <span class="op">+</span> <span class="dv">10</span><span class="sc">}</span><span class="vs">px`</span>)<span class="op">;</span></span>
<span id="cb1-362"><a href="#cb1-362" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-363"><a href="#cb1-363" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Close the click tooltip after 3 seconds (optional)</span></span>
<span id="cb1-364"><a href="#cb1-364" aria-hidden="true" tabindex="-1"></a>      <span class="pp">setTimeout</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb1-365"><a href="#cb1-365" aria-hidden="true" tabindex="-1"></a>        d3<span class="op">.</span><span class="fu">select</span>(<span class="st">".click-tooltip"</span>)<span class="op">.</span><span class="fu">remove</span>()<span class="op">;</span></span>
<span id="cb1-366"><a href="#cb1-366" aria-hidden="true" tabindex="-1"></a>      }<span class="op">,</span> <span class="dv">3000</span>)<span class="op">;</span></span>
<span id="cb1-367"><a href="#cb1-367" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb1-368"><a href="#cb1-368" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-369"><a href="#cb1-369" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Update circle positions on each tick of the simulation</span></span>
<span id="cb1-370"><a href="#cb1-370" aria-hidden="true" tabindex="-1"></a>    sim<span class="op">.</span><span class="fu">on</span>(<span class="st">"tick"</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb1-371"><a href="#cb1-371" aria-hidden="true" tabindex="-1"></a>      node</span>
<span id="cb1-372"><a href="#cb1-372" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">attr</span>(<span class="st">"cx"</span><span class="op">,</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">x</span>)</span>
<span id="cb1-373"><a href="#cb1-373" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">attr</span>(<span class="st">"cy"</span><span class="op">,</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">y</span>)<span class="op">;</span></span>
<span id="cb1-374"><a href="#cb1-374" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb1-375"><a href="#cb1-375" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb1-376"><a href="#cb1-376" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-377"><a href="#cb1-377" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Main logic to check `scan` value and call createNodes accordingly</span></span>
<span id="cb1-378"><a href="#cb1-378" aria-hidden="true" tabindex="-1"></a>  <span class="fu">createNodes</span>(scan)<span class="op">;</span>  <span class="co">// Pass `scan` to createNodes to handle the different plot configurations</span></span>
<span id="cb1-379"><a href="#cb1-379" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-380"><a href="#cb1-380" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> svg<span class="op">.</span><span class="fu">node</span>()<span class="op">;</span></span>
<span id="cb1-381"><a href="#cb1-381" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-5" data-nodetype="declaration">

</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<p><br> <br></p>
<section id="how-it-works" class="level2">
<h2 class="anchored" data-anchor-id="how-it-works">How it works</h2>
<p>The <a href="https://closeread.dev/gallery/demos/ojs-variables/">closeread docs for ojs are great</a> - I highly recommend reading through that document.</p>
<p>They use <code>crProgressBlock</code> as a variable to indicate how far along the page a user has scrolled.</p>
<p>They then take that variable and apply some basic math to it. For example, when the user starts scrolling at 0%, they set the variable <code>angle1</code> to be <code>-180</code>. And <code>angle1</code> will change as the user scrolls down until it gets to angle = <code>0</code>. Like this:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>angleScale1 = d3.scaleLinear()</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  .domain(<span class="co">[</span><span class="ot">0, 1</span><span class="co">]</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  .range(<span class="co">[</span><span class="ot">-180, 0</span><span class="co">]</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  .clamp(true)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>angle1 = angleScale1(crProgressBlock)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="what-you-need-to-do---user-scroll-locations" class="level2">
<h2 class="anchored" data-anchor-id="what-you-need-to-do---user-scroll-locations">What you need to do - user scroll locations</h2>
<ol type="1">
<li>put this chunk in your quarto document and run <code>quarto preview</code>. Note that the last variable is a variable you can derive</li>
</ol>
<div class="sourceCode" id="cb3"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="at">::</span><span class="fu">:{.counter style="position</span><span class="kw">:</span><span class="at"> fixed; top: 10px; right: 10px; background-color: skyblue; border-radius: 5px; padding: 18px 18px 0 18px; line-height: .8em;"}</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="at">```{ojs}</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">md`Active sticky</span><span class="kw">:</span><span class="at"> ${crActiveSticky}`</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">md`Active trigger</span><span class="kw">:</span><span class="at"> ${crTriggerIndex}`</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">md`Trigger progress</span><span class="kw">:</span><span class="at"> ${(crTriggerProgress * 100).toFixed(1)}%`</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="fu">md`Scroll direction</span><span class="kw">:</span><span class="at"> ${crDirection}`</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="fu">md`Progress Block progress</span><span class="kw">:</span><span class="at"> ${(crProgressBlock * 100).toFixed(1)}%`</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="at">md`-----`</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="fu">md`(derived) derived var1</span><span class="kw">:</span><span class="at"> ${bf1.toFixed(1)}°`</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="at">```</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="at">:</span><span class="fu">:</span><span class="kw">:</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol start="2" type="1">
<li><p>scroll on the script and the blue tab on the upper right will tell you what those variables equal when the user scrolls through the site</p></li>
<li><p>now you can see how variables change</p></li>
<li><p>assign that variable to something in ojs, such as <code>scan = crTriggerIndex</code></p></li>
</ol>
</section>
<section id="what-you-need-to-do---learn-some-d3" class="level2">
<h2 class="anchored" data-anchor-id="what-you-need-to-do---learn-some-d3">What you need to do - learn some D3</h2>
<p>Now you have <code>scan = crTriggerIndex</code>, a variable in ojs that gets updated when a user scrolls. We can use this variable in our plot.</p>
<ol type="1">
<li><p>I used <a href="https://d3js.org/">D3.js</a> to make the beeswarm plot</p></li>
<li><p>use <a href="https://observablehq.com/">Observable</a> to design the plot (and chatGPT to guide you with the code)</p></li>
<li><p>for a D3.js introduction, you <strong>NEED</strong> to <a href="https://observablehq.com/@ben-tanen/a-tutorial-to-using-d3-force-from-someone-who-just-learned-ho">read this document</a></p>
<ul>
<li>especially this part: it shows how D3 visuals are broken down into parts</li>
</ul></li>
</ol>
<blockquote class="blockquote">
<p>Structure of d3-force simulations Before we dive into the specific forces that we’ll use, let’s briefly discuss the general structure used to create a force-directed graph.</p>
</blockquote>
<blockquote class="blockquote">
<p>// 1. create a copy of the node data <code>nodes = node_data.map(d =\&gt; Object.create(d))</code></p>
<p>// 2. create new force simulation specifying the forces to use // and, in our case, how many “ticks” or frames we’ll want to simulate</p>
</blockquote>
<div class="sourceCode" id="cb4"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>sim = d3.forceSimulation(nodes) .force("force_name", ...) // ... chain together as many forces as we want .stop() .tick(n_frames_to_simulate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<blockquote class="blockquote">
<p>// 3. bind data and draw nodes <code>node = svg.selectAll(".node") .data(nodes).enter() // ... specify node position, radius, etc. as we normally would</code></p>
<p>// 4. indicate how we should update the graph for each tick</p>
</blockquote>
<blockquote class="blockquote">
<p><code>sim.on("tick", () =\&gt; { // ... specify how we should move nodes/edges given new positional data })</code></p>
</blockquote>
<blockquote class="blockquote">
<p><strong>Step one</strong> is to create a copy of our initial node data (position, radius, etc.) so that we can pass this copy rather than our original data to <code>d3.forceSimulation()</code>. This is because as we simulate forces, the <code>d3.forceSimulation()</code> function will update whatever array of data we pass it to reflect how forces are influencing our nodes so if we have any intention of re-using our initial node data after we start simulating, we’ll want to copy it first. However, if you are only doing one simulation and do not need preserve the initial data, you don’t necessarily need to worry about copying your data.</p>
<p><strong>Step two</strong> is to actually make our simulation by first passing our (copied) array of data to <code>d3.forceSimulation()</code>. We can then add/chain whatever forces we would like to use with <code>force(...)</code> (more on this below). In our case, once we have defined the behavior of the simulation, we will then explictly stop the simulation before it has a chance to start so that we can specify how many frames or ticks we would like to run of our simulation. We do this below so that we can control where we are in the simulation with scrubbers, but without doing this, the simulation will simply start and continue to run on it’s own.</p>
<p><strong>Step three</strong> is to simply bind our data and draw our nodes as we would for any static graph. Because we are binding our nodes to the same data that is passed to <code>d3.forceSimulation()</code>, as our simulation runs, we can simply rely on the next and final step to update our nodes with new positioning.</p>
<p><strong>Step four</strong> is to end by indicating how we should update our nodes at each step as the simulation applies forces. The simulation will be updating the underlying positional data array (<code>nodes</code>) that is already bound to our drawn elements so we just have specify moving each node to its new position.</p>
</blockquote>
</section>
<section id="what-you-need-to-do---put-it-together" class="level2">
<h2 class="anchored" data-anchor-id="what-you-need-to-do---put-it-together">What you need to do - put it together</h2>
<p>I went back and forth with chatGPT <em>a lot</em>, and I read a lot of documentation to make the visual. But it was worth it. I feel like I have a better understanding of D3.</p>
<ol type="1">
<li>For my beeswarm plot, I make a base plot that has minimal D3 forces applied to it, it looks like this:</li>
</ol>
<div class="sourceCode" id="cb5"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>// Initialize simulation with the base forces</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    const sim = d3</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>      .forceSimulation(node_data)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>      .force("x", d3.forceX(d =&gt; xScale(new Date(d.create_date))))  // Position along the X-axis based on create_date</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>      .force("collide", d3.forceCollide().radius(d =&gt; radiusScale(d.commits) + 1).strength(0.5));  // Default collision force</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol start="2" type="1">
<li>Then I used the <code>scan</code> variable I created above that is linked to closeread’s scroll trigger to dynamically add new D3 forces to the plot:</li>
</ol>
<div class="sourceCode" id="cb6"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>// If <span class="in">`scan &gt; 1`</span>, apply additional forces for language grouping</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>if (scan &gt; 1) {</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  // Apply additional y-force to divide nodes by language</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  sim.force("y", d3.forceY(d =&gt; yScale(d.language) + 70))  // Position nodes along y-axis based on language</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    .force("collide", d3.forceCollide().radius(d =&gt; radiusScale(d.commits) + 1).strength(0.8));  // Adjust collision force</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  // Create x-axis for years</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  const xAxis = d3.axisBottom(xScale).tickFormat(d3.timeFormat("%Y"));</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  const xAxisGroup = svg.append("g")</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  .attr("transform", <span class="in">`translate(0, ${chart_param.height - chart_param.margin.bottom})`</span>)</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>  .call(xAxis);</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="in">    // Style x-axis labels (make them bold and larger)</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a><span class="in">    xAxisGroup.selectAll("text")</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("font-size", "16px")    // Set font size to 16px or any value you prefer</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("font-weight", "bold"); // Make the labels bold</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a><span class="in">    // Create y-axis for language groups</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a><span class="in">    const yAxis = d3.axisLeft(yScale);</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a><span class="in">    const yAxisGroup = svg.append("g")</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("transform", `translate(${chart_param.margin.left}, 0)`)</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a><span class="in">    .call(yAxis);</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a><span class="in">    // Style y-axis labels (make them bold and larger)</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a><span class="in">    yAxisGroup.selectAll("text")</span></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("font-size", "15px")    // Set font size to 16px or any value you prefer</span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("font-weight", "bold"); // Make the labels bold</span></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>} else {</span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>  // For <span class="in">`scan === 1`</span>, apply the default force with no language division</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>  sim.force("y", d3.forceY(chart_param.height / 2))  // All nodes at the center of Y-axis</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>    .force("collide", d3.forceCollide().radius(d =&gt; radiusScale(d.commits) + 1).strength(0.5));  // Default collision force</span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>  // Create x-axis for years</span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a>  const xAxis = d3.axisBottom(xScale).tickFormat(d3.timeFormat("%Y"));</span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a>  const xAxisGroup = svg.append("g")</span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a>  .attr("transform", <span class="in">`translate(0, ${chart_param.height - chart_param.margin.bottom})`</span>)</span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a>  .call(xAxis);</span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a>// Style x-axis labels (make them bold and larger)</span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a>xAxisGroup.selectAll("text")</span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a>  .attr("font-size", "16px")    // Set font size to 16px or any value you prefer</span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a>  .attr("font-weight", "bold"); // Make the labels bold</span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol start="3" type="1">
<li>You can see a conditional statement: when <code>scan &gt;1</code> then the plot will get split into a plot by the <code>language</code> variable, and a new y axis will be added to the plot. Else, when <code>scan === 1</code> then the plot has a base force with the regular x axis only</li>
</ol>


</section>

</main> <!-- /main -->
<script type="ojs-module-contents">
eyJjb250ZW50cyI6W3sibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Ilxubm9kZV9kYXRhID0gRmlsZUF0dGFjaG1lbnQoXCJyZXBvX2RhdGFfdGVzdC5jc3ZcIikuY3N2KClcblxuXG5ub2RlcyA9IG5vZGVfZGF0YS5tYXAoZCA9PiBPYmplY3QuY3JlYXRlKGQpKVxuXG4vLyBiZlNjYWxlID0gZDMuc2NhbGVMaW5lYXIoKVxuLy8gICAuZG9tYWluKFsxLCA1XSlcbi8vICAgLnJhbmdlKFsxOTMwLCAyMDIwXSlcbi8vICAgLmNsYW1wKHRydWUpXG4gICAgXG5zY2FuID0gY3JUcmlnZ2VySW5kZXhcblxuY2hhcnRfcGFyYW0gPSAoe1xuICB3aWR0aDogd2lkdGgsXG4gIGhlaWdodDogNjAwLFxuICBtYXJnaW46IHtcbiAgICB0b3A6IDUwLFxuICAgIHJpZ2h0OiA0MCxcbiAgICBib3R0b206IDgwLFxuICAgIGxlZnQ6IDYwLFxuICAgIGNlbnRlcjogMTUwXG4gIH1cbn0pXG5cbmNoYXJ0ID0ge1xuICAvLyBEZWZpbmUgYmFzZSBzY2FsZXMgZm9yIHBvc2l0aW9uaW5nIGNpcmNsZXNcbiAgY29uc3QgeCA9IGQzLnNjYWxlTGluZWFyKClcbiAgICAuZG9tYWluKFswLCAxXSlcbiAgICAucmFuZ2UoW2NoYXJ0X3BhcmFtLm1hcmdpbi5sZWZ0LCBjaGFydF9wYXJhbS53aWR0aCAtIGNoYXJ0X3BhcmFtLm1hcmdpbi5yaWdodF0pO1xuXG4gIGNvbnN0IHkgPSBkMy5zY2FsZUxpbmVhcigpXG4gICAgLmRvbWFpbihbMCwgMV0pXG4gICAgLnJhbmdlKFtjaGFydF9wYXJhbS5oZWlnaHQgLSBjaGFydF9wYXJhbS5tYXJnaW4uYm90dG9tLCBjaGFydF9wYXJhbS5tYXJnaW4udG9wXSk7XG5cbiAgLy8gSW5pdGlhbGl6ZSBTVkcgY29udGFpbmVyXG4gIGNvbnN0IHN2ZyA9IGQzLnNlbGVjdChET00uc3ZnKGNoYXJ0X3BhcmFtLndpZHRoLCBjaGFydF9wYXJhbS5oZWlnaHQpKTtcblxuICAvLyBBcHBlbmQgdGl0bGUgYW5kIHN1YnRpdGxlXG4gIHN2Zy5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgLmF0dHIoXCJ4XCIsIGNoYXJ0X3BhcmFtLndpZHRoIC8gMilcbiAgICAuYXR0cihcInlcIiwgY2hhcnRfcGFyYW0ubWFyZ2luLnRvcCAtIDI1KVxuICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAuYXR0cihcImZvbnQtc2l6ZVwiLCBcIjIwcHhcIilcbiAgICAuYXR0cihcImZvbnQtd2VpZ2h0XCIsIFwiYm9sZFwiKVxuICAgIC50ZXh0KFwiQmVlc3dhcm0gUGxvdCBvZiBHaXRIdWIgUmVwb3MgT3ZlciBUaW1lXCIpO1xuXG4gIHN2Zy5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgLmF0dHIoXCJ4XCIsIGNoYXJ0X3BhcmFtLndpZHRoIC8gMilcbiAgICAuYXR0cihcInlcIiwgY2hhcnRfcGFyYW0ubWFyZ2luLnRvcCAtIDEwKVxuICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAuYXR0cihcImZvbnQtc2l6ZVwiLCBcIjE0cHhcIilcbiAgICAuYXR0cihcImZvbnQtd2VpZ2h0XCIsIFwibm9ybWFsXCIpXG4gICAgLnRleHQoXCJBIHZpc3VhbGl6YXRpb24gb2YgcmVwb3NpdG9yaWVzIGluIHRoZSBET0gtRVBJLUNvZGVycyBvcmdhbml6YXRpb25cIik7XG5cbiAgLy8gUHJlcHJvY2VzcyBkYXRhOiBNYXAgYW55IGxhbmd1YWdlIHRoYXQgaXNuJ3QgXCJSXCIgb3IgXCJQeXRob25cIiB0byBcIk90aGVyXCJcbiAgbm9kZV9kYXRhLmZvckVhY2goZCA9PiB7XG4gICAgaWYgKGQubGFuZ3VhZ2UgPT09IFwiSnVweXRlciBOb3RlYm9va1wiKSB7XG4gICAgICBkLmxhbmd1YWdlID0gXCJQeXRob25cIjtcbiAgICB9IGVsc2UgaWYgKGQubGFuZ3VhZ2UgIT09IFwiUlwiICYmIGQubGFuZ3VhZ2UgIT09IFwiUHl0aG9uXCIpIHtcbiAgICAgIGQubGFuZ3VhZ2UgPSBcIk90aGVyXCI7XG4gICAgfVxuICB9KTtcblxuICAvLyBHcm91cCBub2RlcyBieSBsYW5ndWFnZSB1c2luZyBkMy5ncm91cFxuICBjb25zdCBsYW5ndWFnZXMgPSBkMy5ncm91cChub2RlX2RhdGEsIGQgPT4gZC5sYW5ndWFnZSk7XG5cbiAgLy8gVmlyaWRpcyBjb2xvcnMgZm9yIGxhbmd1YWdlc1xuICBjb25zdCBjb2xvclNjYWxlID0gZDMuc2NhbGVPcmRpbmFsKClcbiAgLmRvbWFpbihbXCJSXCIsIFwiUHl0aG9uXCIsIFwiT3RoZXJcIl0pICAvLyBMaXN0IG9mIGxhbmd1YWdlcyB5b3Ugd2FudCB0byBjb2xvclxuICAucmFuZ2UoW1wiIzQ0MDE1NFwiLCBcIiMzQjUyOEJcIiwgXCIjMjg3RDQ5XCJdKTsgIC8vIEFkanVzdGVkIFZpcmlkaXMgY29sb3JzIHdpdGggbW9yZSBncmVlblxuXG4gIC8vIFNjYWxlIGZvciBub2RlIHJhZGl1cyBiYXNlZCBvbiB0aGUgbnVtYmVyIG9mIGNvbW1pdHNcbiAgY29uc3QgcmFkaXVzU2NhbGUgPSBkMy5zY2FsZUxvZygpXG4gICAgLmRvbWFpbihbMSwgNTAwMF0pICAvLyBBZGp1c3QgdGhlIGRvbWFpbiB0byB5b3VyIGRhdGEgcmFuZ2VcbiAgICAucmFuZ2UoWzEsIDEzXSk7ICAgICAgLy8gQWRqdXN0IHRoZSByYW5nZSBmb3IgdGhlIGNpcmNsZSByYWRpdXNcblxuICAvLyBEZWZpbmUgeCBzY2FsZSBiYXNlZCBvbiBjcmVhdGVfZGF0ZSBmb3IgZ3JvdXBpbmcgYnkgZGF0ZVxuICBjb25zdCB4U2NhbGUgPSBkMy5zY2FsZVRpbWUoKVxuICAgIC5kb21haW4oW25ldyBEYXRlKFwiMjAyMC0wMS0wMVwiKSwgbmV3IERhdGUoXCIyMDI2LTAxLTAxXCIpXSkgLy8gU2V0IGRhdGUgcmFuZ2VcbiAgICAucmFuZ2UoW2NoYXJ0X3BhcmFtLm1hcmdpbi5sZWZ0LCBjaGFydF9wYXJhbS53aWR0aCAtIGNoYXJ0X3BhcmFtLm1hcmdpbi5yaWdodF0pO1xuXG4gIC8vIFNldCB1cCB0aGUgeS1zY2FsZSBiYXNlZCBvbiBsYW5ndWFnZSBncm91cHNcbiAgY29uc3QgeVNjYWxlID0gZDMuc2NhbGVCYW5kKClcbiAgICAuZG9tYWluKEFycmF5LmZyb20obGFuZ3VhZ2VzLmtleXMoKSkpICAvLyBVc2UgdGhlIGxhbmd1YWdlIGdyb3VwcyBhcyBkb21haW5cbiAgICAucmFuZ2UoW2NoYXJ0X3BhcmFtLm1hcmdpbi50b3AsIGNoYXJ0X3BhcmFtLmhlaWdodCAtIGNoYXJ0X3BhcmFtLm1hcmdpbi5ib3R0b21dKVxuICAgIC5wYWRkaW5nKDAuMSk7ICAvLyBBZGQgcGFkZGluZyBmb3Igc3BhY2luZyBiZXR3ZWVuIHRoZSBncm91cHNcblxuICBmdW5jdGlvbiBjcmVhdGVOb2RlcyhzY2FuKSB7XG4gICAgLy8gU29ydCByZXBvcyBieSBjb21taXRzIGluIGRlc2NlbmRpbmcgb3JkZXIgYW5kIGdldCB0aGUgdG9wIDUgZm9yIHNjYW4gPT0gM1xuICAgIGNvbnN0IHRvcFJlcG9zID0gc2NhbiA9PT0gMyA/IG5vZGVfZGF0YS5zb3J0KChhLCBiKSA9PiBiLmNvbW1pdHMgLSBhLmNvbW1pdHMpLnNsaWNlKDAsIDUpIDogW107XG4gICAgY29uc3QgdG9wUmVwb0NvbW1pdHMgPSBuZXcgU2V0KHRvcFJlcG9zLm1hcChkID0+IGQuY29tbWl0cykpO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSBzaW11bGF0aW9uIHdpdGggdGhlIGJhc2UgZm9yY2VzXG4gICAgY29uc3Qgc2ltID0gZDNcbiAgICAgIC5mb3JjZVNpbXVsYXRpb24obm9kZV9kYXRhKVxuICAgICAgLmZvcmNlKFwieFwiLCBkMy5mb3JjZVgoZCA9PiB4U2NhbGUobmV3IERhdGUoZC5jcmVhdGVfZGF0ZSkpKSkgIC8vIFBvc2l0aW9uIGFsb25nIHRoZSBYLWF4aXMgYmFzZWQgb24gY3JlYXRlX2RhdGVcbiAgICAgIC5mb3JjZShcImNvbGxpZGVcIiwgZDMuZm9yY2VDb2xsaWRlKCkucmFkaXVzKGQgPT4gcmFkaXVzU2NhbGUoZC5jb21taXRzKSArIDEpLnN0cmVuZ3RoKDAuNSkpOyAgLy8gRGVmYXVsdCBjb2xsaXNpb24gZm9yY2VcblxuICAgIC8vIElmIGBzY2FuID4gMWAsIGFwcGx5IGFkZGl0aW9uYWwgZm9yY2VzIGZvciBsYW5ndWFnZSBncm91cGluZ1xuICAgIGlmIChzY2FuID4gMSkge1xuICAgICAgLy8gQXBwbHkgYWRkaXRpb25hbCB5LWZvcmNlIHRvIGRpdmlkZSBub2RlcyBieSBsYW5ndWFnZVxuICAgICAgc2ltLmZvcmNlKFwieVwiLCBkMy5mb3JjZVkoZCA9PiB5U2NhbGUoZC5sYW5ndWFnZSkgKyA3MCkpICAvLyBQb3NpdGlvbiBub2RlcyBhbG9uZyB5LWF4aXMgYmFzZWQgb24gbGFuZ3VhZ2VcbiAgICAgICAgLmZvcmNlKFwiY29sbGlkZVwiLCBkMy5mb3JjZUNvbGxpZGUoKS5yYWRpdXMoZCA9PiByYWRpdXNTY2FsZShkLmNvbW1pdHMpICsgMSkuc3RyZW5ndGgoMC44KSk7ICAvLyBBZGp1c3QgY29sbGlzaW9uIGZvcmNlXG5cbiAgICAgIC8vIENyZWF0ZSB4LWF4aXMgZm9yIHllYXJzXG4gICAgICBjb25zdCB4QXhpcyA9IGQzLmF4aXNCb3R0b20oeFNjYWxlKS50aWNrRm9ybWF0KGQzLnRpbWVGb3JtYXQoXCIlWVwiKSk7XG4gICAgICBjb25zdCB4QXhpc0dyb3VwID0gc3ZnLmFwcGVuZChcImdcIilcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIGB0cmFuc2xhdGUoMCwgJHtjaGFydF9wYXJhbS5oZWlnaHQgLSBjaGFydF9wYXJhbS5tYXJnaW4uYm90dG9tfSlgKVxuICAgICAgLmNhbGwoeEF4aXMpO1xuICAgIFxuICAgICAgICAvLyBTdHlsZSB4LWF4aXMgbGFiZWxzIChtYWtlIHRoZW0gYm9sZCBhbmQgbGFyZ2VyKVxuICAgICAgICB4QXhpc0dyb3VwLnNlbGVjdEFsbChcInRleHRcIilcbiAgICAgICAgLmF0dHIoXCJmb250LXNpemVcIiwgXCIxNnB4XCIpICAgIC8vIFNldCBmb250IHNpemUgdG8gMTZweCBvciBhbnkgdmFsdWUgeW91IHByZWZlclxuICAgICAgICAuYXR0cihcImZvbnQtd2VpZ2h0XCIsIFwiYm9sZFwiKTsgLy8gTWFrZSB0aGUgbGFiZWxzIGJvbGRcblxuICAgICAgICAvLyBDcmVhdGUgeS1heGlzIGZvciBsYW5ndWFnZSBncm91cHNcbiAgICAgICAgY29uc3QgeUF4aXMgPSBkMy5heGlzTGVmdCh5U2NhbGUpO1xuICAgICAgICBjb25zdCB5QXhpc0dyb3VwID0gc3ZnLmFwcGVuZChcImdcIilcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgYHRyYW5zbGF0ZSgke2NoYXJ0X3BhcmFtLm1hcmdpbi5sZWZ0fSwgMClgKVxuICAgICAgICAuY2FsbCh5QXhpcyk7XG4gICAgICAgIFxuICAgICAgICAvLyBTdHlsZSB5LWF4aXMgbGFiZWxzIChtYWtlIHRoZW0gYm9sZCBhbmQgbGFyZ2VyKVxuICAgICAgICB5QXhpc0dyb3VwLnNlbGVjdEFsbChcInRleHRcIilcbiAgICAgICAgLmF0dHIoXCJmb250LXNpemVcIiwgXCIxNXB4XCIpICAgIC8vIFNldCBmb250IHNpemUgdG8gMTZweCBvciBhbnkgdmFsdWUgeW91IHByZWZlclxuICAgICAgICAuYXR0cihcImZvbnQtd2VpZ2h0XCIsIFwiYm9sZFwiKTsgLy8gTWFrZSB0aGUgbGFiZWxzIGJvbGRcbiAgICAgIFxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGb3IgYHNjYW4gPT09IDFgLCBhcHBseSB0aGUgZGVmYXVsdCBmb3JjZSB3aXRoIG5vIGxhbmd1YWdlIGRpdmlzaW9uXG4gICAgICBzaW0uZm9yY2UoXCJ5XCIsIGQzLmZvcmNlWShjaGFydF9wYXJhbS5oZWlnaHQgLyAyKSkgIC8vIEFsbCBub2RlcyBhdCB0aGUgY2VudGVyIG9mIFktYXhpc1xuICAgICAgICAuZm9yY2UoXCJjb2xsaWRlXCIsIGQzLmZvcmNlQ29sbGlkZSgpLnJhZGl1cyhkID0+IHJhZGl1c1NjYWxlKGQuY29tbWl0cykgKyAxKS5zdHJlbmd0aCgwLjUpKTsgIC8vIERlZmF1bHQgY29sbGlzaW9uIGZvcmNlXG5cbiAgICAgIC8vIENyZWF0ZSB4LWF4aXMgZm9yIHllYXJzXG4gICAgICBjb25zdCB4QXhpcyA9IGQzLmF4aXNCb3R0b20oeFNjYWxlKS50aWNrRm9ybWF0KGQzLnRpbWVGb3JtYXQoXCIlWVwiKSk7XG4gICAgICBjb25zdCB4QXhpc0dyb3VwID0gc3ZnLmFwcGVuZChcImdcIilcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIGB0cmFuc2xhdGUoMCwgJHtjaGFydF9wYXJhbS5oZWlnaHQgLSBjaGFydF9wYXJhbS5tYXJnaW4uYm90dG9tfSlgKVxuICAgICAgLmNhbGwoeEF4aXMpO1xuICAgIFxuICAgIC8vIFN0eWxlIHgtYXhpcyBsYWJlbHMgKG1ha2UgdGhlbSBib2xkIGFuZCBsYXJnZXIpXG4gICAgeEF4aXNHcm91cC5zZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgICAuYXR0cihcImZvbnQtc2l6ZVwiLCBcIjE2cHhcIikgICAgLy8gU2V0IGZvbnQgc2l6ZSB0byAxNnB4IG9yIGFueSB2YWx1ZSB5b3UgcHJlZmVyXG4gICAgICAuYXR0cihcImZvbnQtd2VpZ2h0XCIsIFwiYm9sZFwiKTsgLy8gTWFrZSB0aGUgbGFiZWxzIGJvbGRcblxuICAgIH1cblxuICAgIC8vIFJlc3RhcnQgdGhlIHNpbXVsYXRpb24gdG8gYXBwbHkgdGhlIGNoYW5nZXNcbiAgICBzaW0uYWxwaGEoMSlcbiAgICAgIC5hbHBoYURlY2F5KDAuMDUpXG4gICAgICAucmVzdGFydCgpO1xuXG4gICAgLy8gQmluZCBkYXRhIGFuZCBkcmF3IG5vZGVzXG4gICAgY29uc3Qgbm9kZSA9IHN2Zy5zZWxlY3RBbGwoXCIubm9kZVwiKVxuICAgICAgLmRhdGEobm9kZV9kYXRhKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoXCJjaXJjbGVcIilcbiAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJub2RlXCIpXG4gICAgICAuYXR0cihcInJcIiwgZCA9PiByYWRpdXNTY2FsZShkLmNvbW1pdHMpKSAgLy8gU2V0IHRoZSByYWRpdXMgYmFzZWQgb24gdGhlICdjb21taXRzJyBmaWVsZFxuICAgICAgLmF0dHIoXCJjeFwiLCBkID0+IHhTY2FsZShuZXcgRGF0ZShkLmNyZWF0ZV9kYXRlKSkpICAvLyBTZXQgaW5pdGlhbCB4IHBvc2l0aW9uIGJhc2VkIG9uIGRhdGVcbiAgICAgIC5hdHRyKFwiY3lcIiwgZCA9PiBzY2FuID4gMSA/IHlTY2FsZShkLmxhbmd1YWdlKSA6IGNoYXJ0X3BhcmFtLmhlaWdodCAvIDIpICAvLyBDb3JyZWN0IHkgcG9zaXRpb24gYmFzZWQgb24gbGFuZ3VhZ2VcbiAgICAgIC5zdHlsZShcImZpbGxcIiwgKGQpID0+IHRvcFJlcG9Db21taXRzLmhhcyhkLmNvbW1pdHMpID8gXCJvcmFuZ2VcIiA6IGNvbG9yU2NhbGUoZC5sYW5ndWFnZSkpICAvLyBIaWdobGlnaHQgdG9wIDUgcmVwb3Mgd2l0aCBvcmFuZ2VcbiAgICAgIC5zdHlsZShcIm9wYWNpdHlcIiwgKGQpID0+IHRvcFJlcG9Db21taXRzLmhhcyhkLmNvbW1pdHMpID8gMSA6IDAuNik7ICAvLyBMb3dlciBvcGFjaXR5IGZvciBub24tdG9wIDUgcmVwb3NcblxuICAgIC8vIEFkZCB0b29sdGlwcyB3aXRoIHJlcG8gaW5mb1xuICAgIG5vZGUuYXBwZW5kKFwidGl0bGVcIilcbiAgICAgIC50ZXh0KGQgPT5cbiAgICAgICAgYFJlcG86ICR7ZC5yZXBvfVxcbmAgK1xuICAgICAgICBgQ29tbWl0czogJHtkLmNvbW1pdHN9XFxuYCArXG4gICAgICAgIGBDb250cmlidXRvcnM6ICR7ZC5jb250cmlidXRvcnN9XFxuYCArXG4gICAgICAgIGBDcmVhdGUgRGF0ZTogJHtkLmNyZWF0ZV9kYXRlfWBcbiAgICAgICk7XG5cbiAgICAvLyBIb3ZlciBlZmZlY3QgdG8gY2hhbmdlIGNpcmNsZSBjb2xvciB0byByZWQgb24gbW91c2VvdmVyLCByZXZlcnQgb24gbW91c2VvdXRcbiAgICBub2RlLm9uKFwibW91c2VvdmVyXCIsIGZ1bmN0aW9uKGV2ZW50LCBkKSB7XG4gICAgZDMuc2VsZWN0KHRoaXMpXG4gICAgICAuYXR0cihcImZpbGxcIiwgXCJyZWRcIikgIC8vIENoYW5nZSB0aGUgZmlsbCBjb2xvciB0byByZWQgb24gbW91c2VvdmVyXG4gICAgICAuYXR0cihcInN0cm9rZVwiLCBcImJsYWNrXCIpICAvLyBBZGQgYmxhY2sgYm9yZGVyXG4gICAgICAuYXR0cihcInN0cm9rZS13aWR0aFwiLCAyKTsgIC8vIFNldCB0aGUgYm9yZGVyIHdpZHRoXG4gIH0pXG4gIC5vbihcIm1vdXNlb3V0XCIsIGZ1bmN0aW9uKGV2ZW50LCBkKSB7XG4gICAgZDMuc2VsZWN0KHRoaXMpXG4gICAgICAuYXR0cihcImZpbGxcIiwgKGQpID0+IHRvcFJlcG9Db21taXRzLmhhcyhkLmNvbW1pdHMpID8gXCJvcmFuZ2VcIiA6IGNvbG9yU2NhbGUoZC5sYW5ndWFnZSkpICAvLyBSZXNldCB0aGUgZmlsbCBjb2xvclxuICAgICAgLmF0dHIoXCJzdHJva2VcIiwgbnVsbCkgIC8vIFJlbW92ZSB0aGUgYm9yZGVyIG9uIG1vdXNlIG91dFxuICAgICAgLmF0dHIoXCJzdHJva2Utd2lkdGhcIiwgbnVsbCk7ICAvLyBSZXNldCB0aGUgYm9yZGVyIHdpZHRoXG4gIH0pO1xuXG4gICAgLy8gU2hvdyBkZXRhaWxlZCBkYXRhIG9uIGNsaWNrIHdpdGggbGluZSBicmVha3NcbiAgICBub2RlLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oZXZlbnQsIGQpIHtcbiAgICAgIGNvbnN0IGNsaWNrVG9vbHRpcCA9IGQzLnNlbGVjdChcImJvZHlcIikuYXBwZW5kKFwiZGl2XCIpXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJjbGljay10b29sdGlwXCIpXG4gICAgICAgIC5zdHlsZShcInBvc2l0aW9uXCIsIFwiYWJzb2x1dGVcIilcbiAgICAgICAgLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKVxuICAgICAgICAuc3R5bGUoXCJiYWNrZ3JvdW5kXCIsIFwicmdiYSgwLCAwLCAwLCAwLjcpXCIpXG4gICAgICAgIC5zdHlsZShcImNvbG9yXCIsIFwid2hpdGVcIilcbiAgICAgICAgLnN0eWxlKFwiYm9yZGVyLXJhZGl1c1wiLCBcIjRweFwiKVxuICAgICAgICAuc3R5bGUoXCJwYWRkaW5nXCIsIFwiMTBweFwiKVxuICAgICAgICAuc3R5bGUoXCJmb250LXNpemVcIiwgXCIxNHB4XCIpXG4gICAgICAgIC5odG1sKGBcbiAgICAgICAgICA8c3Ryb25nPlJlcG86PC9zdHJvbmc+ICR7ZC5yZXBvfTxicj5cbiAgICAgICAgICA8c3Ryb25nPkNvbW1pdHM6PC9zdHJvbmc+ICR7ZC5jb21taXRzfTxicj5cbiAgICAgICAgICA8c3Ryb25nPkNvbnRyaWJ1dG9yczo8L3N0cm9uZz4gJHtkLmNvbnRyaWJ1dG9yc308YnI+XG4gICAgICAgICAgPHN0cm9uZz5DcmVhdGUgRGF0ZTo8L3N0cm9uZz4gJHtkLmNyZWF0ZV9kYXRlfVxuICAgICAgICBgKTtcblxuICAgICAgY2xpY2tUb29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIilcbiAgICAgICAgLnN0eWxlKFwidG9wXCIsIGAke2V2ZW50LnBhZ2VZICsgMTB9cHhgKVxuICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIGAke2V2ZW50LnBhZ2VYICsgMTB9cHhgKTtcblxuICAgICAgLy8gQ2xvc2UgdGhlIGNsaWNrIHRvb2x0aXAgYWZ0ZXIgMyBzZWNvbmRzIChvcHRpb25hbClcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBkMy5zZWxlY3QoXCIuY2xpY2stdG9vbHRpcFwiKS5yZW1vdmUoKTtcbiAgICAgIH0sIDMwMDApO1xuICAgIH0pO1xuXG4gICAgLy8gVXBkYXRlIGNpcmNsZSBwb3NpdGlvbnMgb24gZWFjaCB0aWNrIG9mIHRoZSBzaW11bGF0aW9uXG4gICAgc2ltLm9uKFwidGlja1wiLCAoKSA9PiB7XG4gICAgICBub2RlXG4gICAgICAgIC5hdHRyKFwiY3hcIiwgZCA9PiBkLngpXG4gICAgICAgIC5hdHRyKFwiY3lcIiwgZCA9PiBkLnkpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gTWFpbiBsb2dpYyB0byBjaGVjayBgc2NhbmAgdmFsdWUgYW5kIGNhbGwgY3JlYXRlTm9kZXMgYWNjb3JkaW5nbHlcbiAgY3JlYXRlTm9kZXMoc2Nhbik7ICAvLyBQYXNzIGBzY2FuYCB0byBjcmVhdGVOb2RlcyB0byBoYW5kbGUgdGhlIGRpZmZlcmVudCBwbG90IGNvbmZpZ3VyYXRpb25zXG5cbiAgcmV0dXJuIHN2Zy5ub2RlKCk7XG59O1xuIn1dfQ==
</script>
<script type="module">
if (window.location.protocol === "file:") { alert("The OJS runtime does not work with file:// URLs. Please use a web server to view this document."); }
window._ojs.paths.runtimeToDoc = "../../posts/2025-01-13-scrollyd3";
window._ojs.paths.runtimeToRoot = "../..";
window._ojs.paths.docToRoot = "../..";
window._ojs.selfContained = false;
window._ojs.runtime.interpretFromScriptTags();
</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/edenian-prince\.github\.io\/blog\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




<script src="../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>